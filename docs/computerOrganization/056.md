# 5.6 指令流水线

## 5.6.1 指令流水线的基本概念

## 5.6.3 流水线的冒险与处理

### 1.结构冒险（互斥）

解决方法：

（1）后一条指令暂停一个时钟周期。

（2）单独设立数据存储器和指令存储器，使取数和去指令操作各自在不同的存储器中进行。

### 2.数据冒险（同步）

解决方法

（1）等待，硬件阻塞（运行空节拍），软件插入。

（2）数据旁路

### 3.控制冒险

遇到改变指令执行顺序的情况，会造成断流，从而引起控制冒险。

## 5.6.4 流水线的性能指标

### 1.流水线的吞吐率

流水线的吞吐量是指在单位时间内流水线所完成的任务数量。

$TP=\frac{n}{T_{k}}$

k 为流水线的段数，n 个任务，$\triangle t$为时钟周期。

$TP=\frac{n}{\left( k+n-1\right)  \triangle t}$

### 2.流水线的加速比

完成同样一批任务，不使用流水线与使用流水线所用的时间之比。

$S=\frac{kn\bigtriangleup t}{(k+n-1)\bigtriangleup t} =\frac{kn}{k+n-1}$

## 5.6.5 高级流水线技术

### 1.超标量流水线技术

CPI<1

### 2.超长指令字技术

### 3.超流水线技术

CPI=1


