# 5.3 什么是 MySQL 最左匹配原则？

## 为什么使用联合索引？

- 减少开销。创建一个联合索引 (col1,col2,col3)，实际相当于建了 (col1)，(col1,col2)

，(col1,col2,col3) 三个索引。每多一个索引，都会增加写操作的开销和磁盘空间的开销。对于大量数据的表，使用联合索引会大大减少开销。

- 覆盖索引。对联合索引 (col1,col2,col3),如果有如下 SQL：select col1,col2,col3 from test where col1=1 and col2=2;那么 MySQL 可以直接通过遍历
- 效率高。索引列越多，通过索引筛选出的数据越少。有 1000w 条数据的表。有如下的 SQL：select * from table where col1=1 and col2=2 and col3=3;，假设每个条件可以筛选出 10% 的数据，如果只有单值索引，那么通过索引筛选出$1000w*10%=100w$条数据，再回表从 100w 条数据中找到符合 col2=2 and col3=3 的数据，然后再排序，分页；如果是联合索引，通过索引筛选出 $1000w*10\%*10\%*10\%=1w$