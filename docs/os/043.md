# 4.3 文件系统

## 4.3.1 文件系统结构

绝大多数操作系统为改善磁盘访问时间，以簇为单位进行空间分配。

操作系统启动时有一块 ROM，提供内存中初始输入输出。称为 BIOS

## 4.3.2 文件系统布局

![](https://csnotes.oss-cn-beijing.aliyuncs.com/photos/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%B8%83%E5%B1%80.drawio.svg)

（1）主引导记录（MBR），位于磁盘的 0 号扇区，用来引导计算机，MBR 后面是分区表，该表给出每个分区的起始地址和结束地址。表中的第一个分区被标记为活动分区。当计算机启动时，BIOS 读入并执行 MBR。MBR 做的第一件事是确定活动分区，读入它的第一块，即引导块。

## 4.3.3 外存空闲空间管理

### 1.空闲表法

连续分配

空闲盘块表

| 第一个空闲盘块号 | 空闲盘块数 |
| ---------------- | ---------- |
| 2                | 4          |
| 9                | 3          |

### 2.空闲链表法

（1）空闲盘块链

（2）空闲盘区链

### 3.位示图法

（字号，位号）推出盘块号。

用二进制的一位来表示盘块是否空闲。

### 4.成组链接法

超级块：第一个成组链块

成组链块：记录下一组空闲盘块数和空闲块号。

## 4.3.4 虚拟文件系统

