# 3.5 介质访问控制

隔离广播式通信，隔离同一信道不同结点的信号，是数据链路层的一个子层，叫介质访问控制子层（MAC)

## 3.5.1 信道划分介质访问控制（静态）

### 1.频分多路复用（并行）

共享时间，同时走双车道

### 2.时分多路复用（并发）

共享空间，轮流走

### 3.波分多路复用

### 4.码分多路复用

共享时间和空间，东西放在一辆车上，到了再分开

### CDMA 码分多址

每个比特分成 m 个时间槽

## 3.5.2 随机访问介质访问控制（动态）（产生冲突）

既不共享空间，也不共享时间。将广播信道转换为点对点信道

胜利者通过争用获得信道，从而获取信息的发送权。

### 1.ALOHA 协议 (不听就说)

#### （1）纯 ALOHA 协议

想发就发，如果冲突就随机重传

#### （2）时隙 ALOHA 协议

将时间划分成一段段等长时隙，每个时隙开始时才能发送一个帧（整点发送），如果冲突，随机整点重传

### 2.CSMA 协议（先听再说）

#### （1）1-坚持 CSMA

信道空闲：立刻发送

信道忙：继续侦听

#### （2）非坚持 CSMA

信道空闲：立刻发送

信道忙：放弃侦听，等待一个随机时间再侦听

#### （3）p-坚持 CSMA

信道空闲：以概率 p 发送，以概率 1-p 推迟到下一个时隙

信道忙：持续侦听，直到信道空闲

### 3.CSMA/CD 协议（先听再说，边听边说，冲突停发，随机重发）

用于有线网络

争用期 2tao

最短帧长=争用期时间内发出的比特数。

等多久再发？2rtao,k=min[重传次数，10]，r=rand(0,2^k-1)

第一次重传：0 或 2r

第二次重传：0 或 2r 或 4r 或 6r

最小帧长 (bit)/数据传输速率>2tao，才能在发送完毕前检测到冲突。

最小帧长=总线传播时延 x 数据传输速率 x2

拉屎💩，要在拉出💩之前检测裤子脱了没，最短💩长=拉到裤子的时间 x 拉屎速度 x2

### 4.CSMA/CA 协议 (先预约)

在 CSMA 的基础上增加了冲突避免功能。

广泛应用于无线局域网。

处理隐蔽站问题：发 RTS（request to send），回复 CTS(clear to send)

 RTS————>

<—————CTS

DATA————>

<—————ACK

## 3.5.3 轮询访问：令牌传递协议

优势：CSMA/CD 网络各站随机发送数据，有冲突产生。负载很重时，冲突会加剧。而令牌环网各站轮流使用令牌发送数据，无论网络负载如何，都无冲突，正是它的突出优点。

同一时刻，环上只有一个数据在传输。

发完数据后，将令牌给下一个人。

网上所有节点共享网络带宽


