# 4.8 网络层设备

| 集线器、中继器 | 冲突域 | 第一层为同一个冲突域     |
| -------------- | ------ | ------------------------ |
| 网桥、交换机   | 广播域 | 第一、二层为同一个广播域 |
| 路由器         |        |                          |

![router.drawio](https://csnotes.oss-cn-beijing.aliyuncs.com/photos/router.drawio.png)

## 4.8.3 路由表与路由转发

| 目的网络 IP 地址 | 子网掩码 | 下一跳 IP 地址 | 接口 |
| ---------------- | -------- | -------------- | ---- |
| 点               | 面       | 物理连接       |      |
|                  |          |                |      |

### 查询路由表确定输出端口

完成包的接受后，路由器就会丢弃包开头的 MAC 头部。

路由器的每个接口是一个广播域。

当路由器检测到拥塞时，可合理丢弃 IP 分组，并向发出该 IP 分组的源主机发送一个源点抑制的 ICMP 报文。

网关的 IP 地址时具有路由功能的设备的 IP 地址，通常默认网关地址就是路由器中 LAN 端口的地址。

默认路由的目的地址和子网掩码都是`0.0.0.0`

路由器会忽略主机号，只匹配网络号。

![分片.drawio](https://csnotes.oss-cn-beijing.aliyuncs.com/photos/%E5%88%86%E7%89%87.drawio.png)


