<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>4.3 IPv4 | CSNotes</title><meta name="description" content="计算机学习笔记">
    <link rel="preload" href="/assets/style-XSCaGtJI.css" as="style"><link rel="stylesheet" href="/assets/style-XSCaGtJI.css">
    <link rel="modulepreload" href="/assets/app-DKkA6jZv.js"><link rel="modulepreload" href="/assets/043.html-DU5QGoL8.js">
    <link rel="prefetch" href="/assets/index.html-CKireTwL.js" as="script"><link rel="prefetch" href="/assets/001.html-CLsSLR5n.js" as="script"><link rel="prefetch" href="/assets/003.html-CnRatYe7.js" as="script"><link rel="prefetch" href="/assets/011.html-C_1tN8cU.js" as="script"><link rel="prefetch" href="/assets/012.html-6hJ61b8v.js" as="script"><link rel="prefetch" href="/assets/021.html-CueGX3Rm.js" as="script"><link rel="prefetch" href="/assets/022.html-BmIS1J5Y.js" as="script"><link rel="prefetch" href="/assets/023.html-CWCcrRXS.js" as="script"><link rel="prefetch" href="/assets/031.html-DogBPhTZ.js" as="script"><link rel="prefetch" href="/assets/032.html-nPPiMT7W.js" as="script"><link rel="prefetch" href="/assets/033.html-C6JrBxi-.js" as="script"><link rel="prefetch" href="/assets/034.html-D1XLuvVw.js" as="script"><link rel="prefetch" href="/assets/035.html-uZtExscY.js" as="script"><link rel="prefetch" href="/assets/036.html-BWm3qWfW.js" as="script"><link rel="prefetch" href="/assets/041.html-DsXBKXtR.js" as="script"><link rel="prefetch" href="/assets/042.html-3473tYCy.js" as="script"><link rel="prefetch" href="/assets/043.html-BasVSyTe.js" as="script"><link rel="prefetch" href="/assets/044.html-BU2iCLbh.js" as="script"><link rel="prefetch" href="/assets/051.html-BtfdL0Rm.js" as="script"><link rel="prefetch" href="/assets/052.html-D4X1bMgM.js" as="script"><link rel="prefetch" href="/assets/053.html-DJUYCrrD.js" as="script"><link rel="prefetch" href="/assets/054.html-BYvh3Ns7.js" as="script"><link rel="prefetch" href="/assets/055.html-BKtV0-WT.js" as="script"><link rel="prefetch" href="/assets/056.html-C5UQbW9R.js" as="script"><link rel="prefetch" href="/assets/057.html-BAJ4CJls.js" as="script"><link rel="prefetch" href="/assets/061.html-asAbvEJP.js" as="script"><link rel="prefetch" href="/assets/062.html-Do0A_YLP.js" as="script"><link rel="prefetch" href="/assets/071.html-gN24uMAn.js" as="script"><link rel="prefetch" href="/assets/072.html-DUxC94uw.js" as="script"><link rel="prefetch" href="/assets/073.html-66xlPbLy.js" as="script"><link rel="prefetch" href="/assets/081.html-C7QspoEv.js" as="script"><link rel="prefetch" href="/assets/001.html-eGP3uF1h.js" as="script"><link rel="prefetch" href="/assets/011.html-Cc7-XzC8.js" as="script"><link rel="prefetch" href="/assets/021.html-Dsy0FsAL.js" as="script"><link rel="prefetch" href="/assets/022.html-DPMfZg1K.js" as="script"><link rel="prefetch" href="/assets/023.html-By42eM2p.js" as="script"><link rel="prefetch" href="/assets/031.html-D0R-37oh.js" as="script"><link rel="prefetch" href="/assets/032.html-BoDVaZ9o.js" as="script"><link rel="prefetch" href="/assets/033.html-DIgTFnVG.js" as="script"><link rel="prefetch" href="/assets/034.html-Bzc22Ybp.js" as="script"><link rel="prefetch" href="/assets/041.html-58rfqVRo.js" as="script"><link rel="prefetch" href="/assets/042.html-Bo04IEEc.js" as="script"><link rel="prefetch" href="/assets/051.html-D9XGl7TD.js" as="script"><link rel="prefetch" href="/assets/052.html-BKzDDDaN.js" as="script"><link rel="prefetch" href="/assets/053.html-DV1ZuhDZ.js" as="script"><link rel="prefetch" href="/assets/054.html-Qv4Ug8XJ.js" as="script"><link rel="prefetch" href="/assets/055.html-vAb98ANe.js" as="script"><link rel="prefetch" href="/assets/061.html-DKT9ktAM.js" as="script"><link rel="prefetch" href="/assets/062.html-rn4fA-vl.js" as="script"><link rel="prefetch" href="/assets/063.html-naAZj1Qi.js" as="script"><link rel="prefetch" href="/assets/064.html-D8PiCHEK.js" as="script"><link rel="prefetch" href="/assets/071.html-CaDaduKJ.js" as="script"><link rel="prefetch" href="/assets/072.html-BRkVAsSE.js" as="script"><link rel="prefetch" href="/assets/073.html-BUd-uUYT.js" as="script"><link rel="prefetch" href="/assets/074.html-Bg0TPFdX.js" as="script"><link rel="prefetch" href="/assets/075.html-BdJjuF2x.js" as="script"><link rel="prefetch" href="/assets/081.html-DeWsFRr5.js" as="script"><link rel="prefetch" href="/assets/082.html-CWGgrJc2.js" as="script"><link rel="prefetch" href="/assets/083.html-Dj_6pcGP.js" as="script"><link rel="prefetch" href="/assets/084.html-BIyjS_rj.js" as="script"><link rel="prefetch" href="/assets/085.html-DjQKmzwe.js" as="script"><link rel="prefetch" href="/assets/086.html-D0zTrO7Z.js" as="script"><link rel="prefetch" href="/assets/091.html-GtvpSDfS.js" as="script"><link rel="prefetch" href="/assets/101.html-C7tZ6gT0.js" as="script"><link rel="prefetch" href="/assets/121.html-Bp0-4UKY.js" as="script"><link rel="prefetch" href="/assets/001.html-bQl4WIiK.js" as="script"><link rel="prefetch" href="/assets/001.html-kXVg_4gd.js" as="script"><link rel="prefetch" href="/assets/002.html-N6HZB2RU.js" as="script"><link rel="prefetch" href="/assets/003.html-DDw2-Qb-.js" as="script"><link rel="prefetch" href="/assets/004.html-DyvGIrv6.js" as="script"><link rel="prefetch" href="/assets/005.html-VJYkaYcv.js" as="script"><link rel="prefetch" href="/assets/006.html-3KhZ0os3.js" as="script"><link rel="prefetch" href="/assets/007.html-DusTv8Bc.js" as="script"><link rel="prefetch" href="/assets/008.html-BUV7K4mQ.js" as="script"><link rel="prefetch" href="/assets/009.html-CIzxELsG.js" as="script"><link rel="prefetch" href="/assets/010.html-BLVYyEBM.js" as="script"><link rel="prefetch" href="/assets/011.html-BA5eb2pN.js" as="script"><link rel="prefetch" href="/assets/0111.html-CR6Yh_7_.js" as="script"><link rel="prefetch" href="/assets/012.html-BqIYyHm_.js" as="script"><link rel="prefetch" href="/assets/013.html-DaoWuEpF.js" as="script"><link rel="prefetch" href="/assets/014.html-BO8m9rle.js" as="script"><link rel="prefetch" href="/assets/015.html-0DLcj_KA.js" as="script"><link rel="prefetch" href="/assets/016.html-D79mNMzp.js" as="script"><link rel="prefetch" href="/assets/017.html-C-4mmc3V.js" as="script"><link rel="prefetch" href="/assets/018.html-B-nurODP.js" as="script"><link rel="prefetch" href="/assets/019.html-B9tXP4kZ.js" as="script"><link rel="prefetch" href="/assets/021.html-B5p9d9zT.js" as="script"><link rel="prefetch" href="/assets/022.html-6ZQxiLef.js" as="script"><link rel="prefetch" href="/assets/041.html-DUEMg0lA.js" as="script"><link rel="prefetch" href="/assets/061.html-Z1_-_3YL.js" as="script"><link rel="prefetch" href="/assets/062.html-u4_ifTHc.js" as="script"><link rel="prefetch" href="/assets/063.html-w8BhgB9g.js" as="script"><link rel="prefetch" href="/assets/011.html-F5JVueAE.js" as="script"><link rel="prefetch" href="/assets/012.html-o0wBkRnf.js" as="script"><link rel="prefetch" href="/assets/013.html-DuTp1tUi.js" as="script"><link rel="prefetch" href="/assets/014.html-DiH1zWEk.js" as="script"><link rel="prefetch" href="/assets/015.html-BF_jn8XK.js" as="script"><link rel="prefetch" href="/assets/016.html-B1ZOIKJx.js" as="script"><link rel="prefetch" href="/assets/017.html-CWToj7RG.js" as="script"><link rel="prefetch" href="/assets/021.html-Dt5OZce5.js" as="script"><link rel="prefetch" href="/assets/022.html-C3fl5OZf.js" as="script"><link rel="prefetch" href="/assets/023.html-BF_Umj-o.js" as="script"><link rel="prefetch" href="/assets/024.html-CodEDX_g.js" as="script"><link rel="prefetch" href="/assets/025.html-c1scbDPo.js" as="script"><link rel="prefetch" href="/assets/031.html-Zi1P_amG.js" as="script"><link rel="prefetch" href="/assets/032.html-CzYL6ut_.js" as="script"><link rel="prefetch" href="/assets/033.html-Cy9ofmZe.js" as="script"><link rel="prefetch" href="/assets/041.html-Dvzzy6-3.js" as="script"><link rel="prefetch" href="/assets/051.html-gXQzRCUo.js" as="script"><link rel="prefetch" href="/assets/052.html-DXX2Ld1A.js" as="script"><link rel="prefetch" href="/assets/053.html-_MwjyTvp.js" as="script"><link rel="prefetch" href="/assets/054.html-z3UD35Om.js" as="script"><link rel="prefetch" href="/assets/061.html-B1uqNW-4.js" as="script"><link rel="prefetch" href="/assets/071.html-MHW3QPX4.js" as="script"><link rel="prefetch" href="/assets/081.html-B6t9WOis.js" as="script"><link rel="prefetch" href="/assets/082.html-BW066SXz.js" as="script"><link rel="prefetch" href="/assets/091.html-AQs13uXz.js" as="script"><link rel="prefetch" href="/assets/101.html-CTPVwrFz.js" as="script"><link rel="prefetch" href="/assets/102.html-CaCycDXZ.js" as="script"><link rel="prefetch" href="/assets/000.html-OVd0yf9i.js" as="script"><link rel="prefetch" href="/assets/001.html-BgyIwnD3.js" as="script"><link rel="prefetch" href="/assets/003.html-keSRrV42.js" as="script"><link rel="prefetch" href="/assets/009.html-ZYn7rT96.js" as="script"><link rel="prefetch" href="/assets/014.html-BdlE4feS.js" as="script"><link rel="prefetch" href="/assets/026.html-BE-G1uMA.js" as="script"><link rel="prefetch" href="/assets/027.html-DW7vLcHA.js" as="script"><link rel="prefetch" href="/assets/088.html-HbpO66Dz.js" as="script"><link rel="prefetch" href="/assets/136.html-DqnISdeQ.js" as="script"><link rel="prefetch" href="/assets/011.html-BM7Dp8HH.js" as="script"><link rel="prefetch" href="/assets/012.html-C8HN6J6o.js" as="script"><link rel="prefetch" href="/assets/021.html-XDpMNqai.js" as="script"><link rel="prefetch" href="/assets/022.html-NFtci39K.js" as="script"><link rel="prefetch" href="/assets/023.html-W-BOHLw5.js" as="script"><link rel="prefetch" href="/assets/031.html-C05QDtfy.js" as="script"><link rel="prefetch" href="/assets/032.html-D_cROnOY.js" as="script"><link rel="prefetch" href="/assets/033.html-C3GKuwyv.js" as="script"><link rel="prefetch" href="/assets/034.html-D0FnhAs7.js" as="script"><link rel="prefetch" href="/assets/035.html-DrWZ9KdX.js" as="script"><link rel="prefetch" href="/assets/036.html-nfQvL_2o.js" as="script"><link rel="prefetch" href="/assets/037.html-CJ6IH13n.js" as="script"><link rel="prefetch" href="/assets/038.html-Ce8jckVi.js" as="script"><link rel="prefetch" href="/assets/041.html-DsHIPoDr.js" as="script"><link rel="prefetch" href="/assets/042.html-vo3lv3XQ.js" as="script"><link rel="prefetch" href="/assets/044.html-rw9wpMsg.js" as="script"><link rel="prefetch" href="/assets/045.html-t3hSDqLQ.js" as="script"><link rel="prefetch" href="/assets/046.html-BoTIREnI.js" as="script"><link rel="prefetch" href="/assets/047.html-CsHE-RAd.js" as="script"><link rel="prefetch" href="/assets/048.html-BmGBX9cf.js" as="script"><link rel="prefetch" href="/assets/051.html-FDFC564j.js" as="script"><link rel="prefetch" href="/assets/052.html-BtZpqiwE.js" as="script"><link rel="prefetch" href="/assets/053.html-RguzOe8E.js" as="script"><link rel="prefetch" href="/assets/054.html-Cf6qne-A.js" as="script"><link rel="prefetch" href="/assets/061.html-DaHj6FOO.js" as="script"><link rel="prefetch" href="/assets/062.html-D2AaPWxF.js" as="script"><link rel="prefetch" href="/assets/063.html-DtLf87qe.js" as="script"><link rel="prefetch" href="/assets/064.html-B1Ft8Em7.js" as="script"><link rel="prefetch" href="/assets/065.html-DlgEEjNQ.js" as="script"><link rel="prefetch" href="/assets/071.html-DdifAAzJ.js" as="script"><link rel="prefetch" href="/assets/072.html-CJb_bxYx.js" as="script"><link rel="prefetch" href="/assets/073.html-BdwfmAn8.js" as="script"><link rel="prefetch" href="/assets/074.html-CUb383vF.js" as="script"><link rel="prefetch" href="/assets/075.html-BTJv9T-L.js" as="script"><link rel="prefetch" href="/assets/011.html-BJ6hJfgz.js" as="script"><link rel="prefetch" href="/assets/012.html-CiULAB90.js" as="script"><link rel="prefetch" href="/assets/013.html-BZ3y3S8n.js" as="script"><link rel="prefetch" href="/assets/014.html-Bsh3hyuc.js" as="script"><link rel="prefetch" href="/assets/015.html-DbsWrsNC.js" as="script"><link rel="prefetch" href="/assets/021.html-BOPY0oGU.js" as="script"><link rel="prefetch" href="/assets/022.html-GaBAYKD_.js" as="script"><link rel="prefetch" href="/assets/023.html-CKGkuPVM.js" as="script"><link rel="prefetch" href="/assets/024.html-BBDjVudr.js" as="script"><link rel="prefetch" href="/assets/031.html-CYrDzUVZ.js" as="script"><link rel="prefetch" href="/assets/032.html-Bau1c-1X.js" as="script"><link rel="prefetch" href="/assets/041.html-C0zFPBVR.js" as="script"><link rel="prefetch" href="/assets/042.html-Bov8DYtg.js" as="script"><link rel="prefetch" href="/assets/043.html-9m1f2PyP.js" as="script"><link rel="prefetch" href="/assets/051.html-cOweeqLc.js" as="script"><link rel="prefetch" href="/assets/052.html-D6ytGFPP.js" as="script"><link rel="prefetch" href="/assets/053.html-D2mlaa6J.js" as="script"><link rel="prefetch" href="/assets/061.html-DIcYQEEQ.js" as="script"><link rel="prefetch" href="/assets/001.html-CeROr0bn.js" as="script"><link rel="prefetch" href="/assets/002.html-AJYVokw5.js" as="script"><link rel="prefetch" href="/assets/003.html-D94_6TYn.js" as="script"><link rel="prefetch" href="/assets/001.html-DLP9oNZm.js" as="script"><link rel="prefetch" href="/assets/002.html-DrbIcm7_.js" as="script"><link rel="prefetch" href="/assets/003.html-CE0Sis_i.js" as="script"><link rel="prefetch" href="/assets/004.html-DwNbINF5.js" as="script"><link rel="prefetch" href="/assets/005.html-BAJW8ZVh.js" as="script"><link rel="prefetch" href="/assets/011.html-CtyyxLMf.js" as="script"><link rel="prefetch" href="/assets/001.html-BYCyXxlJ.js" as="script"><link rel="prefetch" href="/assets/0011.html-DHxUQO1U.js" as="script"><link rel="prefetch" href="/assets/002.html-BTkB5mcQ.js" as="script"><link rel="prefetch" href="/assets/003.html-CaETiwn4.js" as="script"><link rel="prefetch" href="/assets/004.html-CSN_zyHd.js" as="script"><link rel="prefetch" href="/assets/005.html-5x4UB6dZ.js" as="script"><link rel="prefetch" href="/assets/006.html-BVLVncUU.js" as="script"><link rel="prefetch" href="/assets/007.html-C8VtMvr0.js" as="script"><link rel="prefetch" href="/assets/008.html-BiDK2g8Y.js" as="script"><link rel="prefetch" href="/assets/009.html-bXcoS9Ny.js" as="script"><link rel="prefetch" href="/assets/011.html-DKYXntjR.js" as="script"><link rel="prefetch" href="/assets/012.html-BsQa8Z3K.js" as="script"><link rel="prefetch" href="/assets/013.html-DF9HSGTv.js" as="script"><link rel="prefetch" href="/assets/014.html-Cxc0skXf.js" as="script"><link rel="prefetch" href="/assets/021.html-kVZEGx5-.js" as="script"><link rel="prefetch" href="/assets/022.html-CKTv0qLZ.js" as="script"><link rel="prefetch" href="/assets/023.html-C2bDO5CQ.js" as="script"><link rel="prefetch" href="/assets/031.html-fbbQwixj.js" as="script"><link rel="prefetch" href="/assets/032.html-CjNzRt7h.js" as="script"><link rel="prefetch" href="/assets/041.html-DB8fFtTS.js" as="script"><link rel="prefetch" href="/assets/011.html-CAFxFtxy.js" as="script"><link rel="prefetch" href="/assets/012.html-Bapc3dj0.js" as="script"><link rel="prefetch" href="/assets/014.html-CTBb1hDl.js" as="script"><link rel="prefetch" href="/assets/015.html-BBlAtM_J.js" as="script"><link rel="prefetch" href="/assets/017.html-DPL4NOwV.js" as="script"><link rel="prefetch" href="/assets/021.html-CaLZwXCg.js" as="script"><link rel="prefetch" href="/assets/031.html-CLhzQ7xI.js" as="script"><link rel="prefetch" href="/assets/032.html-imOAGKQi.js" as="script"><link rel="prefetch" href="/assets/041.html-BOLgdHSi.js" as="script"><link rel="prefetch" href="/assets/051.html-BDDADSY_.js" as="script"><link rel="prefetch" href="/assets/061.html-BORlnlhw.js" as="script"><link rel="prefetch" href="/assets/062.html-w_7ixo2s.js" as="script"><link rel="prefetch" href="/assets/063.html-MFovuNeW.js" as="script"><link rel="prefetch" href="/assets/001.html-ED9H9seU.js" as="script"><link rel="prefetch" href="/assets/000.html-Cf2MIRHk.js" as="script"><link rel="prefetch" href="/assets/001.html-CwvJIV9C.js" as="script"><link rel="prefetch" href="/assets/002.html-DaN9DyqS.js" as="script"><link rel="prefetch" href="/assets/001.html-geiLfHad.js" as="script"><link rel="prefetch" href="/assets/404.html-Dkby6CaK.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-C0egI-Bl.js" as="script"><link rel="prefetch" href="/assets/giscus-1zs_z9NH.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/logo.png" alt="CSNotes"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">CSNotes</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/todo/001.html" aria-label="TODO"><!--[--><!--[--><!--]--><!--]-->TODO<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/leetcode/001.html" aria-label="LeetCode"><!--[--><!--[--><!--]--><!--]-->LeetCode<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/datastructure/011.html" aria-label="数据结构"><!--[--><!--[--><!--]--><!--]-->数据结构<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/computerOrganization/011.html" aria-label="计算机组成原理"><!--[--><!--[--><!--]--><!--]-->计算机组成原理<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/os/011.html" aria-label="操作系统"><!--[--><!--[--><!--]--><!--]-->操作系统<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/network/011.html" aria-label="计算机网络"><!--[--><!--[--><!--]--><!--]-->计算机网络<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/database/011.html" aria-label="数据库"><!--[--><!--[--><!--]--><!--]-->数据库<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/java/001.html" aria-label="Java"><!--[--><!--[--><!--]--><!--]-->Java<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/ssm/001.html" aria-label="SSM"><!--[--><!--[--><!--]--><!--]-->SSM<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/react/001.html" aria-label="React"><!--[--><!--[--><!--]--><!--]-->React<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/others/001.html" aria-label="实用工具"><!--[--><!--[--><!--]--><!--]-->实用工具<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/ilovecopy/CSNotes" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/todo/001.html" aria-label="TODO"><!--[--><!--[--><!--]--><!--]-->TODO<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/leetcode/001.html" aria-label="LeetCode"><!--[--><!--[--><!--]--><!--]-->LeetCode<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/datastructure/011.html" aria-label="数据结构"><!--[--><!--[--><!--]--><!--]-->数据结构<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/computerOrganization/011.html" aria-label="计算机组成原理"><!--[--><!--[--><!--]--><!--]-->计算机组成原理<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/os/011.html" aria-label="操作系统"><!--[--><!--[--><!--]--><!--]-->操作系统<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/network/011.html" aria-label="计算机网络"><!--[--><!--[--><!--]--><!--]-->计算机网络<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/database/011.html" aria-label="数据库"><!--[--><!--[--><!--]--><!--]-->数据库<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/java/001.html" aria-label="Java"><!--[--><!--[--><!--]--><!--]-->Java<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/ssm/001.html" aria-label="SSM"><!--[--><!--[--><!--]--><!--]-->SSM<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/react/001.html" aria-label="React"><!--[--><!--[--><!--]--><!--]-->React<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/others/001.html" aria-label="实用工具"><!--[--><!--[--><!--]--><!--]-->实用工具<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/ilovecopy/CSNotes" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">第一章 计算机网络体系结构 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/network/011.html" aria-label="1.1 计算机网络概述"><!--[--><!--[--><!--]--><!--]-->1.1 计算机网络概述<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/012.html" aria-label="1.2 计算机网络体系结构与参考模型"><!--[--><!--[--><!--]--><!--]-->1.2 计算机网络体系结构与参考模型<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">第二章 物理层 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/network/021.html" aria-label="2.1 通信基础"><!--[--><!--[--><!--]--><!--]-->2.1 通信基础<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/022.html" aria-label="2.2 传输介质"><!--[--><!--[--><!--]--><!--]-->2.2 传输介质<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/023.html" aria-label="2.3 物理层设备"><!--[--><!--[--><!--]--><!--]-->2.3 物理层设备<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">第三章 数据链路层 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/network/031.html" aria-label="3.1 数据链路层的功能"><!--[--><!--[--><!--]--><!--]-->3.1 数据链路层的功能<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/032.html" aria-label="3.2 组帧"><!--[--><!--[--><!--]--><!--]-->3.2 组帧<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/033.html" aria-label="3.3 差错控制"><!--[--><!--[--><!--]--><!--]-->3.3 差错控制<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/034.html" aria-label="3.4 流量控制与可靠传输机制"><!--[--><!--[--><!--]--><!--]-->3.4 流量控制与可靠传输机制<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/035.html" aria-label="3.5 介质访问控制"><!--[--><!--[--><!--]--><!--]-->3.5 介质访问控制<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/036.html" aria-label="3.6 局域网"><!--[--><!--[--><!--]--><!--]-->3.6 局域网<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/037.html" aria-label="3.7 广域网"><!--[--><!--[--><!--]--><!--]-->3.7 广域网<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/038.html" aria-label="3.8 数据链路层设备"><!--[--><!--[--><!--]--><!--]-->3.8 数据链路层设备<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">第四章 网络层 <span class="down arrow"></span></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/network/041.html" aria-label="4.1 网络层的功能"><!--[--><!--[--><!--]--><!--]-->4.1 网络层的功能<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/042.html" aria-label="4.2 路由算法"><!--[--><!--[--><!--]--><!--]-->4.2 路由算法<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/network/043.html" aria-label="4.3 IPv4"><!--[--><!--[--><!--]--><!--]-->4.3 IPv4<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/044.html" aria-label="4.4 IPv6"><!--[--><!--[--><!--]--><!--]-->4.4 IPv6<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/045.html" aria-label="4.5 路由协议"><!--[--><!--[--><!--]--><!--]-->4.5 路由协议<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/046.html" aria-label="4.6 IP 组播"><!--[--><!--[--><!--]--><!--]-->4.6 IP 组播<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/047.html" aria-label="4.7 移动 IP"><!--[--><!--[--><!--]--><!--]-->4.7 移动 IP<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/048.html" aria-label="4.8 网络层设备"><!--[--><!--[--><!--]--><!--]-->4.8 网络层设备<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">第五章 传输层 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/network/051.html" aria-label="5.1 传输层提供的服务"><!--[--><!--[--><!--]--><!--]-->5.1 传输层提供的服务<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/052.html" aria-label="5.2 UDP 协议"><!--[--><!--[--><!--]--><!--]-->5.2 UDP 协议<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/053.html" aria-label="5.3 TCP 协议"><!--[--><!--[--><!--]--><!--]-->5.3 TCP 协议<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/054.html" aria-label="5.4 TCP 和 UDP 的区别"><!--[--><!--[--><!--]--><!--]-->5.4 TCP 和 UDP 的区别<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">第六章 应用层 <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/network/061.html" aria-label="6.1 网络应用模型"><!--[--><!--[--><!--]--><!--]-->6.1 网络应用模型<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/062.html" aria-label="6.2 域名系统"><!--[--><!--[--><!--]--><!--]-->6.2 域名系统<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/063.html" aria-label="6.3 文件传输协议（FTP）"><!--[--><!--[--><!--]--><!--]-->6.3 文件传输协议（FTP）<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/064.html" aria-label="6.4 电子邮件"><!--[--><!--[--><!--]--><!--]-->6.4 电子邮件<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/065.html" aria-label="6.5 万维网 (WWW)"><!--[--><!--[--><!--]--><!--]-->6.5 万维网 (WWW)<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">HTTP <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/network/071.html" aria-label="HTTP/1.0"><!--[--><!--[--><!--]--><!--]-->HTTP/1.0<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/072.html" aria-label="HTTP/1.1"><!--[--><!--[--><!--]--><!--]-->HTTP/1.1<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/073.html" aria-label="HTTP/2"><!--[--><!--[--><!--]--><!--]-->HTTP/2<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/074.html" aria-label="HTTP/3"><!--[--><!--[--><!--]--><!--]-->HTTP/3<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/network/075.html" aria-label="HTTPS"><!--[--><!--[--><!--]--><!--]-->HTTPS<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="_4-3-ipv4" tabindex="-1"><a class="header-anchor" href="#_4-3-ipv4"><span>4.3 IPv4</span></a></h1><p>IPv4 地址由 32 位正整数表示。每一台主机上的每一块网卡都要设置 IP 地址。$2^{23}=4294967296$，所以最多可以允许 43 亿台计算机连接到网络。</p><h2 id="_4-3-1-ipv4-的格式" tabindex="-1"><a class="header-anchor" href="#_4-3-1-ipv4-的格式"><span>4.3.1 IPv4 的格式</span></a></h2><h3 id="_1-ipv4-分组的格式" tabindex="-1"><a class="header-anchor" href="#_1-ipv4-分组的格式"><span>1.IPv4 分组的格式</span></a></h3><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/IPv4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>（1）版本（Version）。占 4 位，<code>0100</code>代表 IPv4，<code>0110</code>代表 IPv6。</p><p>（2）首部长度（IHL）。占 4 位，可以表示的最大二进制数是 15。以 32 位为单位，最小值为<code>0001</code>，代表 20B，最大值为 <code>1111</code>，代表 60B。</p><p>（3）区分服务（Type of Service）。占 8 位，</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line"> Bits 0-2:  Precedence.</span>
<span class="line">      Bit    3:  0 = Normal Delay,      1 = Low Delay.</span>
<span class="line">      Bits   4:  0 = Normal Throughput, 1 = High Throughput.</span>
<span class="line">      Bits   5:  0 = Normal Relibility, 1 = High Relibility.</span>
<span class="line">      Bit  6-7:  Reserved for Future Use.</span>
<span class="line"></span>
<span class="line">         0     1     2     3     4     5     6     7</span>
<span class="line">      +-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="line">      |                 |     |     |     |     |     |</span>
<span class="line">      |   PRECEDENCE    |  D  |  T  |  R  |  0  |  0  |</span>
<span class="line">      |                 |     |     |     |     |     |</span>
<span class="line">      +-----+-----+-----+-----+-----+-----+-----+-----+</span>
<span class="line"></span>
<span class="line">        Precedence</span>
<span class="line"></span>
<span class="line">          111 - Network Control</span>
<span class="line">          110 - Internetwork Control</span>
<span class="line">          101 - CRITIC/ECP</span>
<span class="line">          100 - Flash Override</span>
<span class="line">          011 - Flash</span>
<span class="line">          010 - Immediate</span>
<span class="line">          001 - Priority</span>
<span class="line">          000 - Routine</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>（3）总长度。占 16 位。指首部和数据之和的长度，单位为字节，最大为<code>1111111111111111</code>，因此数据报的最大长度为$2^{16}-1=65535$B。以太网帧的最大传送单元（MTU）为 1500B。因此当一个数据报封装成帧时，数据报的总长度（首部加数据）一定不能超过下面的数据链路层的 MTU 的值。</p><p>（4）标识。占 16 位。它是一个计数器，每产生一个数据报就加 1，并赋予标识字段。但它并不是“序号”（因为 IP 是无连接服务）。当一个数据报的长度超过网络的 MTU 时，必须分片，此时每个数据报片都复制一次标识号，以便正确重装成原来的数据报。</p><p>（5）标志。占 3 位。标志字段的最低位位 MF，MF=1 表示后面还有分片，MF=0 表示最后一个分片。标识字段中间的一位是 DF，DF=1 表示允许分片。</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">Bit 0: reserved, must be zero</span>
<span class="line">Bit 1: (DF) 0 = May Fragment,  1 = Don&#39;t Fragment.</span>
<span class="line">Bit 2: (MF) 0 = Last Fragment, 1 = More Fragments.</span>
<span class="line"></span>
<span class="line">          0   1   2</span>
<span class="line">        +---+---+---+</span>
<span class="line">        |   | D | M |</span>
<span class="line">        | 0 | F | F |</span>
<span class="line">        +---+---+---+</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>（6）片偏移。占 13 位。它指出较长的分组在分片后，某片在原分组的相对位置。</p><p>（7）生存时间（TTL）。占 8 位。数据报在网络中可通过的路由器数的最大值。标识分组在网络中的寿命，以确保分组不会永远在网络中循环，路由器在转发分组前，先把 TTL 减 1。若 TTL 被减为 0，则该分组必须丢弃。</p><p>（8）协议。占 8 位。该字段仅当一个 IP 数据报到达最终目的地才会使用。指出此分组携带的数据使用何种协议，即分组的数据部分应上交哪个协议进行处理，如 TCP、UDP 等。<code>00000110</code>表示 TCP。<code>00010001</code>表示 UDP。</p><p>（9）首部校验和。占 16 位。首部校验和只校验分组的首部，而不校验分组的数据部分。</p><p>（10）源地址字段。占 4B，标识发送方的 IP 地址。</p><p>（11）目的地址字段。占 4B，标识接收方的 IP 地址。</p><p>一总八片的首 4：片偏移为 8 的倍数，说明数据部分为 8 的倍数，首部长度为 4 的倍数。</p><p><a href="https://www.rfc-editor.org/rfc/rfc791.txt" target="_blank" rel="noopener noreferrer">RFC791</a></p><h3 id="_2-ip-数据报分片" tabindex="-1"><a class="header-anchor" href="#_2-ip-数据报分片"><span>2.IP 数据报分片</span></a></h3><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/IP分片.drawio.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>一个数据链路层能承载的最大数据量称为最大传送单元（MTU）。</p><p>以太网的 MTU 是 <code>1500</code>.如果 IP 层有数据包要传，而且数据包的长度超过了 MTU，那么 IP 层就要对数据包进行分片，使每一片的长度都小于或等于 MTU。</p><p>假设要传输一个 UDP 数据包，以太网的 MTU 为 1500 字节，一般 IP 首部为 20 字节，UDP 首部为 8 字节，数据的净荷（payload）部分预留是<code>1500-20-8=1472字节</code>。如果数据部分大于 1472 字节，就会出现分片现象。</p><p>当路由器准备将 IP 分组发送到网络上，而该网络又无法将整个分组一次发送时，路由器必须将该分组分片，使其长度能满足这一网络对分组长度的限制。IP 分片可以独立地通过各个路径发送，而且在传输过程中仍然存在分片的可能（不同网络的 MTU 可能不同），因此不能由中间路由器进行重组。分片后的 IP 分组直到到达目的主机后才能汇聚在一起。</p><h2 id="_4-3-2-ipv4-地址与-nat" tabindex="-1"><a class="header-anchor" href="#_4-3-2-ipv4-地址与-nat"><span>4.3.2 IPv4 地址与 NAT</span></a></h2><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/IP地址简述.drawio.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>IP 地址是给连接在互联网上的每台主机或路由器分配的一个 32 比特的全球唯一标识符。</p><p>IP 地址当且仅当在私人网络中传递时才会改变。</p><p>网络号标识主机（路由器）连接到的网络。主机号标识该主机（路由器）。</p><h3 id="_1-ipv4-地址" tabindex="-1"><a class="header-anchor" href="#_1-ipv4-地址"><span>1.IPv4 地址</span></a></h3><p>A 类地址<code>0???????????????????????????????</code>1～126，因为 0 是“本网络”，127 是环回自检地址。</p><p>B 类地址<code>10??????????????????????????????</code>128～191</p><p>C 类地址<code>110?????????????????????????????</code>192～223</p><p>D 类地址<code>1110????????????????????????????</code>224～239</p><p>E 类地址<code>1111????????????????????????????</code>240～255</p><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/IP地址.drawio (1).png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>特殊的不用作主机的 IP 地址：</p><ul><li><p>主机号全为 0 表示本网络本身。<img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/特殊IP地址0.drawio.png" alt="" loading="lazy"></p></li><li><p>主机号全为 1 表示本网络的广播地址。<img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/特殊IP地址1.drawio.png" alt="" loading="lazy"></p></li><li><p><code>127.x.x.x</code>保留为环回自检地址，此地址表示任意主机本身，目的地址为环回地址的 IP 数据报永远不会出现在任何网络上。<img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/特殊IP地址2.drawio.png" alt="" loading="lazy"></p></li><li><p>32 位全为 0，即<code>0.0.0.0</code>表示本网络上的本主机。<img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/特殊IP地址3.drawio.png" alt="" loading="lazy"></p></li><li><p>32 位全为 1，即<code>255.255.255.255</code>表示整个 TCP/IP 的广播地址，又称受限广播地址。实际使用时，由于路由器对广播域的隔离，<code>255.255.255.255</code>等效为本网络的广播地址。<img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/特殊IP地址4.drawio.png" alt="" loading="lazy"></p></li></ul><p>私有 IP 地址网段：</p><p>A 类：1 个 A 类网段，<code>10.0.0.0</code>~<code>10.255.255.255</code></p><p>B 类：16 个 B 类网段，<code>172.16.0.0</code>~<code>172.31.255.255</code></p><p>C 类：256 个 C 类网段，<code>192.168.0.0</code>~<code>192.168.255.255</code></p><div class="hint-container tip"><p class="hint-container-title">为什么分类会造成浪费？</p><p>架构 B 类网络时，理论上一个链路里允许 6 万 5 千多台计算机相连接</p></div><p>网络号表示主机连接的网络</p><p>如果一个主机有两个 IP 地址，说明这个主机属于两个逻辑网络。</p><p>主机号全 0 表示本网络本身。</p><p><code>0.0.0.0/32</code>可以作为本主机在网络上的源地址。<code>127.0.0.1</code>是回送地址，以它为目的 IP 地址的数据将会立即返回到本机。</p><p>主机号全 1 表示本网络广播地址。</p><p>如果局域网 A 向局域网 B 广播一个分组，目的地址是 B 的网络号 + 主机全 1。向自己广播也可以全 1。</p><p>主机地址是否为全 0 或全 1，不是就为单播地址。</p><h3 id="_2-网络地址转换-nat" tabindex="-1"><a class="header-anchor" href="#_2-网络地址转换-nat"><span>2.网络地址转换（NAT）</span></a></h3><p>NAT 是为了面临地址枯竭的 IPv4 网络开发的技术。</p><p>私有 IP 地址只用于局域网，不用于广域网。</p><p>NAT 转换表：把局域网的（不同 IP 地址，不同端口号）转换为广域网的（相同 IP 地址，不同端口号）</p><table><thead><tr><th>外网</th><th></th><th>内网</th><th></th></tr></thead><tbody><tr><td>IP 地址</td><td>端口号</td><td>IP 地址</td><td>端口号</td></tr></tbody></table><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/NAT.drawio (1).png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_4-3-3-子网划分与子网掩码、cidr" tabindex="-1"><a class="header-anchor" href="#_4-3-3-子网划分与子网掩码、cidr"><span>4.3.3 子网划分与子网掩码、CIDR</span></a></h2><h3 id="_1-子网划分" tabindex="-1"><a class="header-anchor" href="#_1-子网划分"><span>1.子网划分</span></a></h3><p>作用：减少广播域的大小。划分子网可以增加子网的数量，子网之间的数据传输需要通过路由器进行，因此自然就减少了广播域的大小。另外，划分子网，由于子网号占用了主机号位，所以会减少主机的数量。划分子网仅提高 IP 地址的利用率，并不增加网络的数量。</p><p>IP 地址=网络号 + 子网号 + 主机号</p><h3 id="_2-子网掩码" tabindex="-1"><a class="header-anchor" href="#_2-子网掩码"><span>2.子网掩码</span></a></h3><h3 id="_3-cidr" tabindex="-1"><a class="header-anchor" href="#_3-cidr"><span>3.CIDR</span></a></h3><div class="hint-container tip"><p class="hint-container-title">CIDR 作用</p><p>把小的网络汇聚成大的超网。</p></div><p>CIDR 将网络前缀都相同的连续的 IP 地址组成 CIDR 地址块。</p><p>CIDR 用各种长度的网络前缀来代表分类地址中的网络号和子网号。</p><h3 id="_4-网络层转发分组的过程" tabindex="-1"><a class="header-anchor" href="#_4-网络层转发分组的过程"><span>4.网络层转发分组的过程</span></a></h3><p>分组转发都是基于目的主机所在的网络的。</p><h2 id="_4-3-4-arp、dhcp-和-icmp" tabindex="-1"><a class="header-anchor" href="#_4-3-4-arp、dhcp-和-icmp"><span>4.3.4 ARP、DHCP 和 ICMP</span></a></h2><h3 id="_1-ip-地址与硬件地址" tabindex="-1"><a class="header-anchor" href="#_1-ip-地址与硬件地址"><span>1.IP 地址与硬件地址</span></a></h3><p><a href="https://www.zhihu.com/question/21546408/answer/2303205686" target="_blank" rel="noopener noreferrer">有了 IP 地址，为什么还要用 MAC 地址？</a></p><h3 id="_2-地址解析协议-arp" tabindex="-1"><a class="header-anchor" href="#_2-地址解析协议-arp"><span>2.地址解析协议（ARP）</span></a></h3><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/ARP.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_3-动态主机配置协议-dhcp" tabindex="-1"><a class="header-anchor" href="#_3-动态主机配置协议-dhcp"><span>3.动态主机配置协议（DHCP）</span></a></h3><p>为什么要有 DHCP 协议？</p><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/DHCP.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>DHCP 的客户端和服务器端需要通过广播方式来进行交互，原因是 DHCP 执行初期，客户端不知道服务器端的 IP 地址，而执行中间，客户端未被分配 IP 地址，从而导致两者之间的通信必须采用广播的方式。应为不知道对方 IP 地址，所以采用 UDP。</p><p>（1）DHCP 广播“DHCP 发现”消息。源地址为<code>0.0.0.0</code>，目的地址为<code>255.255.255.255</code>。</p><p>（2）DHCP 服务器收到“DHCP 发现”消息后，广播“DHCP 提供”消息。源地址为 DHCP 服务器地址，目的地址为<code>255.255.255.255</code>。</p><p>（3）DHCP 客户机收到“DHCP 提供”消息后，广播“DHCP 请求”消息，源地址为<code>0.0.0.0</code>，目的地址为<code>255.255.255.255</code>。</p><p>（4）DHCP 服务器广播“DHCP 确认”消息，源地址为 DHCP 服务器地址，目的地址为<code>255.255.255.255</code>。</p><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/DHCP.jpeg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_4-网际控制报文协议-icmp" tabindex="-1"><a class="header-anchor" href="#_4-网际控制报文协议-icmp"><span>4.网际控制报文协议（ICMP）</span></a></h3><div class="hint-container tip"><p class="hint-container-title">ICMP 功能</p><p>确定 IP 包是否成功送达目的地址，通知在发送过程当中 IP 包被废弃的具体原因。</p></div><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/icmp.drawio.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果分组长度超过 MTU，那么当 DF=1 时，丢弃该分组，并且要用 ICMP 差错报文向源主机报告</p><p>提高 IP 数据报交付成功的机会。</p><p>ICMP 作为数据字段封装在 IP 分组当中，因此 IP 协议直接为 ICMP 提供服务。</p><p>ICMP 报文的种类有两种，ICMP 差错报文和 ICMP 询问报文</p><p>ICMP 差错报文是向源主机报告差错的。</p><p>ICMP 差错报文分类</p><table><thead><tr><th>内容</th><th>解释</th></tr></thead><tbody><tr><td>终点不可达</td><td>当路由器或主机不能交付数据报时，就像源点发送终点不可达报文</td></tr><tr><td>源点抑制</td><td>当路由器或主机由于拥塞而丢弃数据报时，就向源点发送源点抑制报文，使源点知道应当把数据报的发送速率放慢。</td></tr><tr><td>时间超过</td><td>当路由器收到生存时间（TTL）为零的数据报时，除丢弃该数据报外，还要向源点发送时间超过报文。当终点在预先规定的时间内不能收到一个数据报的全部数据报片时，就把已收到的数据报片都丢弃，并向源点发送时间超过报文。</td></tr><tr><td>参数问题</td><td>当路由器或目的主机收到的数据报的首部中有的字段的值不正确时，就丢弃该数据报，并向源点发送参数问题报文。</td></tr><tr><td>改变路由（重定向）</td><td>路由器把改变路由报文发送给主机，让主机知道下次应将数据报发送给另外的路由器（可通过更好的路由）。</td></tr></tbody></table><figure><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/icmp时间超过.drawio (1).png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ICMP 询问报文：</p><p>（1）回送请求和回答报文</p><p>（2）时间戳请求和回答报文</p><p>（3）地址掩码请求和回答报文</p><p>（4）路由器询问和回答报文</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/ilovecopy/CSNotes/edit/main/docs/network/043.md" aria-label="编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->编辑此页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">上次更新: </span><time class="meta-item-info" datetime="2024-07-04T14:37:39.000Z" data-allow-mismatch>2024/7/4 22:37</time></div><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/network/042.html" aria-label="4.2 路由算法"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">4.2 路由算法</span></div><!--]--></a><a class="route-link auto-link next" href="/network/044.html" aria-label="4.4 IPv6"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">4.4 IPv6</span></div><!--]--></a></nav><!--[--><!--[--><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div style="display: flex;align-items: center;justify-content: center;height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DKkA6jZv.js" defer></script>
  </body>
</html>
