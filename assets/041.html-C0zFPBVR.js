import{_ as e,c as p,a as t,o as s}from"./app-DKkA6jZv.js";const h={};function d(r,a){return s(),p("div",null,a[0]||(a[0]=[t('<h1 id="_4-1-文件系统基础" tabindex="-1"><a class="header-anchor" href="#_4-1-文件系统基础"><span>4.1 文件系统基础</span></a></h1><h2 id="_4-1-1-文件的基本概念" tabindex="-1"><a class="header-anchor" href="#_4-1-1-文件的基本概念"><span>4.1.1 文件的基本概念</span></a></h2><p>文件是以硬盘为载体的存储在计算机上的信息集合。</p><p>UNIX 操作系统中，所有设备被视为特殊的文件，因为 UNIX 操作系统控制和访问外部设备的方式和访问一个文件的方式是相同的。</p><p>操作系统给文件分配空间是以块为单位的。</p><p>文件的结构</p><ol><li>数据项。每一列</li><li>记录。每一行</li><li>文件</li></ol><h2 id="_4-1-2-文件控制块和索引结点" tabindex="-1"><a class="header-anchor" href="#_4-1-2-文件控制块和索引结点"><span>4.1.2 文件控制块和索引结点</span></a></h2><p>为了实现“按名存取”，在文件系统中为每个文件设置用于描述和控制文件的数据结构，称为文件控制块（FCB）。</p><h3 id="_1-文件的属性" tabindex="-1"><a class="header-anchor" href="#_1-文件的属性"><span>1.文件的属性</span></a></h3><ol><li>名称</li><li>类型</li><li>创建时间</li></ol><h3 id="_2-文件控制块-fcb" tabindex="-1"><a class="header-anchor" href="#_2-文件控制块-fcb"><span>2.文件控制块（FCB）</span></a></h3><p>FCB</p><p>文件系统在创建一个文件时，为它建立一个文件目录项，也就是一个 FCB。</p><table><thead><tr><th>文件时间</th></tr></thead><tbody><tr><td>文件权限（创建，访问，写）</td></tr><tr><td>文件所有者</td></tr><tr><td>文件大小</td></tr><tr><td>文件数据块</td></tr></tbody></table><p>文件目录结构</p><table><thead><tr><th>文件名</th><th>索引结点编号</th></tr></thead><tbody><tr><td>文件名 1</td><td></td></tr><tr><td>文件名 2</td><td></td></tr></tbody></table><h3 id="_3-索引结点" tabindex="-1"><a class="header-anchor" href="#_3-索引结点"><span>3.索引结点</span></a></h3><p>索引结点又是文件的低级名称，是一个数字。</p><p>因为文件目录通常存放在磁盘上，当文件很多时，文件目录会占用大量的盘块。在查找目录的过程中，要先将存放目录文件的第一个盘块中的目录调入内存，然后用给定的文件名逐一比较。</p><p>文件控制块（FCB）包含文件名和索引结点指针（也叫 i 结点）。</p><p>FCB 或索引结点相当于图书馆中图书的索书号。</p><p>索引结点号相同本质上为同一个文件。</p><h2 id="_4-1-3-文件的操作" tabindex="-1"><a class="header-anchor" href="#_4-1-3-文件的操作"><span>4.1.3 文件的操作</span></a></h2><h3 id="_1-文件的基本操作" tabindex="-1"><a class="header-anchor" href="#_1-文件的基本操作"><span>1.文件的基本操作</span></a></h3><p>（1）创建文件。为新文件分配必要的外存空间，在目录中创建一个目录项。</p><p>（2）写文件。</p><p>（3）读文件。</p><p>（2）删除文件。释放空间，删除目录项。</p><h2 id="_4-1-4-文件保护" tabindex="-1"><a class="header-anchor" href="#_4-1-4-文件保护"><span>4.1.4 文件保护</span></a></h2><h2 id="_4-1-5-文件的逻辑结构" tabindex="-1"><a class="header-anchor" href="#_4-1-5-文件的逻辑结构"><span>4.1.5 文件的逻辑结构</span></a></h2><h3 id="_1-无结构文件" tabindex="-1"><a class="header-anchor" href="#_1-无结构文件"><span>1.无结构文件</span></a></h3><p>以字节为单位</p><h3 id="_2-有结构文件" tabindex="-1"><a class="header-anchor" href="#_2-有结构文件"><span>2.有结构文件</span></a></h3><p>（1）顺序文件</p><p>记录是定长或不定长的</p><p>串结构（顺序查找）：记录之间顺序与关键字无关</p><p>顺序结构（顺序查找或折半查找）：记录之间顺序与关键字有关</p><p>（2）索引文件（顺序查找）</p><p>添加索引表将变长记录文件的顺序检索变为随机检索，每个索引表项对应一个记录。</p><p>索引文件支持随机访问，对文件的修改也比较方便。</p><p>（3）索引顺序文件（分块查找）</p><p>索引顺序文件就是一本新华字典，索引文件就是字典前面的拼音对应的页码。顺序文件就是后面的内容。</p><p>平均要找$\\sqrt{n}$次。</p><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/IMG_8103.JPG" alt="IMG_8103" style="zoom:15%;"><img src="https://csnotes.oss-cn-beijing.aliyuncs.com/photos/IMG_8104.JPG" alt="IMG_8104" style="zoom:15%;"><p>（4）散列文件</p><h2 id="_4-1-6-文件的物理结构" tabindex="-1"><a class="header-anchor" href="#_4-1-6-文件的物理结构"><span>4.1.6 文件的物理结构</span></a></h2><p>对磁盘非空闲块的管理</p><h3 id="_1-连续分配" tabindex="-1"><a class="header-anchor" href="#_1-连续分配"><span>1.连续分配</span></a></h3><p>每个文件在磁盘上占有一组连续的块</p><p>使作业访问磁盘时需要的寻道数和寻道时间最小</p><h3 id="_2-链接分配" tabindex="-1"><a class="header-anchor" href="#_2-链接分配"><span>2.链接分配</span></a></h3><p>（1）隐式链接</p><p>目录项含有文件第一块和最后一块的指针，只能顺序访问。</p><p>（2）显式链接</p><p>用于链接文件各物理块的指针显式地放在一张表中。</p><h3 id="_3-索引分配" tabindex="-1"><a class="header-anchor" href="#_3-索引分配"><span>3.索引分配</span></a></h3><p>每个文件对应一张索引表，是一个磁盘块地址的数组。</p><p>支持文件长度可变、随机访问。</p>',60)]))}const c=e(h,[["render",d]]),i=JSON.parse('{"path":"/os/041.html","title":"4.1 文件系统基础","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1698680524000,"contributors":[{"name":"ilovecopy","username":"ilovecopy","email":"1205611509@qq.com","commits":1,"url":"https://github.com/ilovecopy"},{"name":"crud","username":"crud","email":"1205611509@qq.com","commits":1,"url":"https://github.com/crud"}],"changelog":[{"hash":"afce312014a05609208c2dabe136730a7b3b0ecc","time":1698680524000,"email":"1205611509@qq.com","author":"crud","message":"Update 041.md"},{"hash":"2be1877336d36add6192906de44e87ab5b1df4ec","time":1698592164000,"email":"1205611509@qq.com","author":"ilovecopy","message":"add"}]},"filePathRelative":"os/041.md"}');export{c as comp,i as data};
